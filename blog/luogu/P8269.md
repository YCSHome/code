[题目传送门](https://www.luogu.com.cn/problem/P8269)

这是一道很有意思的题目。但是很多人都是说是基环树森林啊。如果没有学过这个知识的可能会被卡得有点惨。（比如我一开始就不知道）

#### 思路分析

##### 第一步

写这种题目最重要的是什么呢？推图啊！

推过图的应该知道，题目最后会得到一堆长下图这个样子的图：

![](https://cdn.luogu.com.cn/upload/image_hosting/n1vuvome.png)

~~这种东西就叫做基环树。~~

如果这里没有推到的同学请出门右拐，再自己整理一下思路

##### 第二步

题目中，奶牛最后走的方式一定不会循环。也就是在基环树的环中挑选一条最短边去掉。

我这里提供一个新奇的实现方式：最大生成树。

题目中，第 $i$ 头奶牛到 $a_i$ 头奶牛，其实可以理解为建立了一条从节点 $i$ 到节点 $a_i$ 的
